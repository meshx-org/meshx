package fiber

import "sync"

var GKernel *Kernel
var GKernelMut sync.Mutex

var wasm_add = []uint8{
	0x00, 0x61, 0x73, 0x6D, 0x01, 0x00, 0x00, 0x00, 0x01, 0x07, 0x01, 0x60,
	0x02, 0x7F, 0x7F, 0x01, 0x7F, 0x03, 0x02, 0x01, 0x00, 0x07, 0x07, 0x01,
	0x03, 0x61, 0x64, 0x64, 0x00, 0x00, 0x0A, 0x09, 0x01, 0x07, 0x00, 0x20,
	0x00, 0x20, 0x01, 0x6A, 0x0B, 0x00, 0x24, 0x04, 0x6E, 0x61, 0x6D, 0x65,
	0x01, 0x09, 0x01, 0x00, 0x06, 0x61, 0x64, 0x64, 0x54, 0x77, 0x6F, 0x02,
	0x0B, 0x01, 0x00, 0x02, 0x00, 0x02, 0x70, 0x30, 0x01, 0x02, 0x70, 0x31,
	0x04, 0x05, 0x01, 0x00, 0x02, 0x74, 0x30,
}

var js_runtime = Executable{
	segments: []Segment{
		{
			code:  nil,
			entry: []byte("init"),
		},
		{
			code:  wasm_add,
			entry: []byte("_start"),
		},
	},
}

var js_app = Executable{
	segments: []Segment{
		{
			code:  []byte("console.log(\"Hello World!\")"),
			entry: nil,
		},
	},
}
